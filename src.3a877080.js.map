{"version":3,"sources":["scripts/utils/constants.js","index.js"],"names":["navigation","document","querySelector","exports","toggleButton","getElementById","sliderLine","slideWidth","offsetWidth","nextButton","prevButton","pagesElement","showPopupButton","popup","closePopupButton","modalForm","forms","textInput","_constants","require","offset","currentPage","updatePageIndicator","textContent","closePopup","classList","remove","handleEscClose","event","key","addEventListener","target","value","add","removeEventListener","e","preventDefault","alert","concat","style","left","toggle"],"mappings":";AAWqD,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,QAAA,UAAA,QAAA,WAAA,QAAA,WAAA,QAAA,gBAAA,QAAA,WAAA,QAAA,MAAA,QAAA,aAAA,QAAA,WAAA,QAAA,WAAA,QAAA,UAAA,QAAA,sBAAA,EAXrD,IAAMA,EAAaC,SAASC,cAAc,eAAeC,QAAAH,WAAAA,EACzD,IAAMI,EAAeH,SAASI,eAAe,kBAAkBF,QAAAC,aAAAA,EAC/D,IAAME,EAAaL,SAASC,cAAc,0BAA0BC,QAAAG,WAAAA,EACpE,IAAMC,EAAaN,SAASC,cAAc,UAAUM,YAAYL,QAAAI,WAAAA,EAChE,IAAME,EAAaR,SAASC,cAAc,0BAAyBC,QAAAM,WAAAA,EACnE,IAAMC,EAAaT,SAASC,cAAc,0BAA0BC,QAAAO,WAAAA,EACpE,IAAMC,EAAeV,SAASC,cAAc,oBAAoBC,QAAAQ,aAAAA,EAChE,IAAMC,EAAkBX,SAASI,eAAe,cAAcF,QAAAS,gBAAAA,EAC9D,IAAMC,EAAQZ,SAASI,eAAe,SAASF,QAAAU,MAAAA,EAC/C,IAAMC,EAAmBb,SAASI,eAAe,eAAeF,QAAAW,iBAAAA,EAChE,IAAMC,EAAYd,SAASe,MAAM,cAAcb,QAAAY,UAAAA,EAC/C,IAAME,EAAYhB,SAASI,eAAe,WAAWF,QAAAc,UAAAA;;ACgFhC,aA3FrB,IAAAC,EAAAC,QAAA,6BAeIC,EAAS,EACTC,EAAc,EAElB,SAASC,IACPX,EAAY,aAACY,YAAcF,EAI7B,SAASG,IACPX,EAAK,MAACY,UAAUC,OAAO,gBAIzB,SAASC,EAAeC,GACJ,WAAdA,EAAMC,KACRL,IAKJX,EAAK,MAACiB,iBAAiB,YAAa,SAACF,GAC/BA,EAAMG,SAAWlB,EAAK,OACxBW,MAKJZ,EAAe,gBAACkB,iBAAiB,QAAS,WAExC7B,SAAS6B,iBAAiB,UAAWH,GACrCV,EAAS,UAACe,MAAQ,GAClBnB,EAAK,MAACY,UAAUQ,IAAI,kBAItBnB,EAAgB,iBAACgB,iBAAiB,QAAS,WACzC7B,SAASiC,oBAAoB,UAAWP,GACxCH,MAIFT,EAAS,UAACe,iBAAiB,SAAU,SAACK,GAClCA,EAAEC,iBACFC,MAAKC,cAAAA,OAAerB,EAAS,UAACe,MAAoD,kDAClFnB,EAAK,MAACY,UAAUC,OAAO,kBAI3BjB,EAAU,WAACqB,iBAAiB,QAAS,YACnCV,GAAkBb,EAAU,YACF,EAAbA,EAAU,YACrBa,EAAS,EACTC,EAAc,GAEdA,IAEFf,EAAU,WAACiC,MAAMC,MAAQpB,EAAS,KAClCE,MAGFZ,EAAU,WAACoB,iBAAiB,QAAS,YACnCV,GAAkBb,EAAU,YACf,GACXa,EAAsB,EAAbb,EAAU,WACnBc,EAAc,GAEdA,IAEFf,EAAU,WAACiC,MAAMC,MAAQpB,EAAS,KAClCE,MAGFlB,EAAY,aAAC0B,iBAAiB,QAAS,WACrC9B,EAAU,WAACyB,UAAUgB,OAAO,wBAG9BnB","file":"src.3a877080.js","sourceRoot":"..\\src","sourcesContent":["const navigation = document.querySelector('.navigation');\r\nconst toggleButton = document.getElementById('header__toggle');\r\nconst sliderLine = document.querySelector('.services__slider-line');\r\nconst slideWidth = document.querySelector('.slide').offsetWidth;\r\nconst nextButton = document.querySelector('.services__button_next')\r\nconst prevButton = document.querySelector('.services__button_prev');\r\nconst pagesElement = document.querySelector('.services__pages');\r\nconst showPopupButton = document.getElementById('show-popup');\r\nconst popup = document.getElementById('popup');\r\nconst closePopupButton = document.getElementById('close-popup');\r\nconst modalForm = document.forms['modal-form'];\r\nconst textInput = document.getElementById('message');\r\n\r\nexport {\r\n  navigation,\r\n  toggleButton,\r\n  sliderLine,\r\n  slideWidth,\r\n  nextButton,\r\n  prevButton,\r\n  pagesElement,\r\n  showPopupButton,\r\n  popup,\r\n  closePopupButton,\r\n  modalForm,\r\n  textInput\r\n};","import {\r\n  navigation,\r\n  toggleButton,\r\n  sliderLine,\r\n  slideWidth,\r\n  nextButton,\r\n  prevButton,\r\n  pagesElement,\r\n  showPopupButton,\r\n  popup,\r\n  closePopupButton,\r\n  modalForm,\r\n  textInput\r\n} from './scripts/utils/constants';\r\n\r\nlet offset = 0;\r\nlet currentPage = 1;\r\n\r\nfunction updatePageIndicator() {\r\n  pagesElement.textContent = currentPage;\r\n}\r\n\r\n// закрытие попапа\r\nfunction closePopup () {\r\n  popup.classList.remove('popup_active');\r\n}\r\n\r\n// закрытие попапа по кнопке esc\r\nfunction handleEscClose(event) {\r\n  if (event.key === 'Escape') {\r\n    closePopup();\r\n  };\r\n};\r\n\r\n// закрытие попапа по клику вне формы\r\npopup.addEventListener('mousedown', (event) => {\r\n  if (event.target === popup) {\r\n    closePopup();\r\n  };\r\n});\r\n\r\n// добавляем слушатель к кнопке открытия модальной формы\r\nshowPopupButton.addEventListener('click', () => {\r\n  // очищаем поле с сообщением перед открытием\r\n  document.addEventListener('keydown', handleEscClose);\r\n  textInput.value = '';\r\n  popup.classList.add('popup_active');\r\n});\r\n\r\n// следим за закрытием попапа\r\nclosePopupButton.addEventListener('click', () => {\r\n  document.removeEventListener('keydown', handleEscClose);\r\n  closePopup();\r\n});\r\n\r\n// здесь можно описать запрос к api с отправкой сообщения\r\nmodalForm.addEventListener('submit', (e) => {\r\n    e.preventDefault();\r\n    alert(`Сообщение: ${textInput.value}\\nПисьмо отправлено на rbru-metrika@yandex.ru`);\r\n    popup.classList.remove('popup_active');\r\n});\r\n\r\n// переключаем слайд\r\nnextButton.addEventListener('click', () => {\r\n  offset = offset + slideWidth;\r\n  if (offset > slideWidth * 3) {\r\n    offset = 0;\r\n    currentPage = 1;\r\n  } else {\r\n    currentPage++;\r\n  }\r\n  sliderLine.style.left = -offset + 'px';\r\n  updatePageIndicator();\r\n});\r\n\r\nprevButton.addEventListener('click', () => {\r\n  offset = offset - slideWidth;\r\n  if (offset < 0) {\r\n    offset = slideWidth * 3;\r\n    currentPage = 4;\r\n  } else {\r\n    currentPage--;\r\n  }\r\n  sliderLine.style.left = -offset + 'px';\r\n  updatePageIndicator();\r\n});\r\n\r\ntoggleButton.addEventListener('click', () => {\r\n  navigation.classList.toggle('navigation_visible');\r\n});\r\n\r\nupdatePageIndicator();"]}